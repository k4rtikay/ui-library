import CardStackDemo from "./card-stack-demo";
import CardStackControlledDemo from "./card-stack-controlled";
import ComponentPreview from "@/components/website/component-preview";
import { CommandCopy } from "@/components/website/command-copy";
import { TabsContent } from "@/components/ui/tabs";
import CollapsibleCode from "@/components/website/collapsible-code";

# Card Stack

A stack of cards that stack on top of each other with a satisfying fade animation. Perfect for testimonials, notifications, or flashcards.

## Examples

### Default

<ComponentPreview>
  <TabsContent value="preview" className="relative flex items-center justify-center">
    <CardStackDemo />
  </TabsContent>
  <TabsContent value="code">
    <CollapsibleCode>
      ```tsx file=card-stack-demo.tsx
      ```
    </CollapsibleCode>
  </TabsContent>
</ComponentPreview>

### Controlled

<ComponentPreview>
  <TabsContent value="preview" className="relative flex items-center justify-center">
    <CardStackControlledDemo />
  </TabsContent>
  <TabsContent value="code">
    <CollapsibleCode>
      ```tsx file=card-stack-controlled.tsx
      ```
    </CollapsibleCode>
  </TabsContent>
</ComponentPreview>

## Installation

<CommandCopy 
  command={{
    npm: "npm install @repo/ui@latest",
    pnpm: "pnpm add @repo/ui@latest",
    bun: "bun add @repo/ui@latest",
    yarn: "yarn add @repo/ui@latest"
  }} 
>

<CollapsibleCode>
  ```tsx file=card-stack.tsx
  ```
</CollapsibleCode>
</CommandCopy>

## API Reference

### CardStack

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `React.ReactNode` | Required | The card elements to display in the stack. |
| `className` | `string` | `undefined` | Additional CSS classes for the container. |
| `offsets` | `CardOffset[]` | `[{ scale: 1, y: 0, opacity: 1 }, { scale: 0.95, y: 12, opacity: 1 }, { scale: 0.9, y: 24, opacity: 1 }]` | Visual offsets for stacked cards (scale, position, opacity). |
| `maxVisibleCards` | `number` | `3` | Maximum number of cards visible in the stack. |
| `transition` | `Transition` | `{ type: "spring", damping: 21, stiffness: 180 }` | Framer Motion transition config for animations. |
| `exitOffset` | `number` | `-64` | Y-offset in pixels when a card exits the stack. |
| `exitBlur` | `number` | `4` | Blur amount in pixels applied to exiting cards. |
| `autoAdvance` | `boolean` | `false` | Enables automatic card cycling. |
| `autoAdvanceInterval` | `number` | `5000` | Time in ms between auto-advances. |
| `pauseOnHover` | `boolean` | `true` | Pauses auto-advance when hovering. |
| `activeIndex` | `number` | `undefined` | Controlled index of the currently active card. |
| `onIndexChange` | `(index: number) => void` | `undefined` | Callback fired when the active index changes. |
| `clickable` | `boolean` | `true` | Allows clicking the top card to advance. |
| `keyboardNavigable` | `boolean` | `true` | Enables keyboard navigation with arrow keys. |

### CardStackIndicator

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `totalCards` | `number` | Required | Total number of cards in the stack. |
| `activeIndex` | `number` | Required | Index of the currently active card. |

### CardOffset Type

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `scale` | `number` | Required | Scale factor applied to the card (1 = 100%). |
| `y` | `number` | Required | Vertical offset in pixels from the top. |
| `opacity` | `number` | `undefined` | Opacity of the card (0 to 1). |
